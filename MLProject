# The line below is the filename and should be stored in the root directory of the repository.
# MLproject


name: car_price_prediction

# python_env: python_env.yaml

entry_points:

  main:
    command: "python src/main.py"
  evaluate:
    command: "python src/evaluate.py"
  validate:
    command: "python src/validate.py"
  transform:
    command: "python pipelines/data_prepare.py"
  extract:
    command: "airflow dags test extract_data"
  deploy:
    command: "chmod +x scripts/deploy_docker.sh"
    command: "scripts/deploy_docker.sh"
  predict:
    parameters:
      data_version: 
        type: string
        default: "1"
      docker_port:
        type: float
        default: 5152
      
    # src/predict.py is decorated with @hydra.main to pass parameters at runtime
    command: "python src/predict.py ++data_version={data_version} ++docker_port={docker_port}"